<div class="flex flex-col items-center w-full max-w-md mx-auto bg-white shadow-lg rounded-lg p-6">
  <div class="w-full">
    <div class="flex justify-between items-center mb-6">
      <h1 class="text-2xl font-semibold" data-testid="cart-show-title">üõçÔ∏è ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h1>
    

    <% if @cart.items.any? %>
        <%= button_to clear_carts_path, method: :delete, class: "px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg", form: { data: { turbo_confirm: "‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏•‡πâ‡∏≤‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤?" } },
        data: { testid: "cart-show-clear-cart-button" } do %>
          ‡∏•‡πâ‡∏≤‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
        <% end %>
    <% end %>
    </div>
    

    <% if @cart.items.any? %>
      <div class="space-y-4">
        <% @cart.items.each do |item| %>
          <% product = Product.find_by(id: item["product_id"]) %>
          <div class="flex justify-between items-center p-4 bg-gray-50 rounded-lg">
            <div class="flex-grow">
              <h3 class="font-medium" data-testid="cart-show-item-name"><%= item["name"] %></h3>
              <p class="text-gray-600" data-testid="cart-show-item-price">‡∏£‡∏≤‡∏Ñ‡∏≤: <%= item["price"] %> ‡∏ö‡∏≤‡∏ó</p>
              <% if product.nil? %>
                <p class="text-red-600 mt-1" data-testid="cart-show-item-not-found-text">‚ö†Ô∏è ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏•‡πâ‡∏ß</p>
              <% elsif product.sold? %>
                <p class="text-red-600 mt-1" data-testid="cart-show-item-sold-out-text">‚ö†Ô∏è ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ô‡∏µ‡πâ‡∏ñ‡∏π‡∏Å‡∏Ç‡∏≤‡∏¢‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß</p>
              <% end %>
            </div>
            <%= button_to remove_item_carts_path, method: :delete, params: { product_id: item["product_id"] }, class: "px-2 py-1 bg-red-100 hover:bg-red-200 text-red-600 rounded-lg text-sm", form: { data: { turbo_confirm: "‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏•‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ô‡∏µ‡πâ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤?" } },
            data: { testid: "cart-show-remove-item-button" } do %>
              ‡∏•‡∏ö
            <% end %>
          </div>
        <% end %>
      </div>

      <div class="mt-6 p-4 bg-gray-50 rounded-lg">
        <div class="flex justify-between items-center">
          <span class="font-medium" data-testid="cart-show-total-price-label">‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏°:</span>
          <span class="text-xl font-bold" data-testid="cart-show-total-price-text"><%= @cart.total_price %> ‡∏ö‡∏≤‡∏ó</span>
        </div>
      </div>

      <div class="mt-6 flex justify-between">
        <%= link_to root_path, class: "px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-lg", data: { testid: "cart-show-continue-shopping-link" } do %>
          ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ï‡πà‡∏≠
        <% end %>

        <%= link_to purchase_all_carts_path,
            class: "px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg", data: { testid: "cart-show-purchase-all-link" } do %>
            ‡∏ã‡∏∑‡πâ‡∏≠‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
          <% end %>
      </div>
    <% else %>
      <div class="text-center py-8">
        <p class="text-gray-600" data-testid="cart-show-empty-cart-text">‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏õ‡∏•‡πà‡∏≤</p>
        <%= link_to root_path, class: "mt-4 inline-block px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg",
        data: { testid: "cart-show-continue-shopping-link" } do %>
          ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
        <% end %>
      </div>
    <% end %>
  </div>
</div>
